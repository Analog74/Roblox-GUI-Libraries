#!/usr/bin/env node
// Generate a TypeScript theme tokens file from the Lua Theme tokens for roblox-ts consumers.
// Simple static mapping expecting Theme/init.lua structure.

const fs = require('fs');
const path = require('path');

// Accept output path arg (default rbxts/src/ThemeTokens.generated.ts)
const outPath = process.argv[2] || path.join('src-ts','ThemeTokens.generated.ts');

// For now we hardcode the base tokens mirroring the Lua file; future improvement: parse Lua.
const tokens = {
	spacing: { xs:4, sm:8, md:12, lg:16 },
	corner: 6,
	font: 'GothamMedium',
	colors: {
		// dark default variant values mirroring Theme.tokens.colors in Lua at generation time
		panel: '#222326',
		background: '#191A1C',
		border: '#3C3C3C',
		accent: '#0091FF',
		text: '#EBEBEB',
		muted: '#A0A0A0',
		success: '#00AA55',
		warning: '#D28C00',
		error: '#FF5F5F'
	}
};

const header = `/**
 * AUTO-GENERATED by scripts/gen-ts-theme.cjs
 * Do not edit manually. Run: node scripts/gen-ts-theme.cjs
 */\n`;

const body = `export const ThemeTokens = ${JSON.stringify(tokens, null, 2)} as const;\n`;

fs.mkdirSync(path.dirname(outPath), { recursive: true });
fs.writeFileSync(outPath, header + body);
console.log('Wrote', outPath);
